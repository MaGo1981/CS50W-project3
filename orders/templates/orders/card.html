{% extends "orders/base.html" %}

{% block title %}
    Shopping Card
{% endblock %}

{% block body %}
    <span>
      <a href="{% url 'index' %}" class="col-3">Index</a>
      <a href="{% url 'menu' %}"  class="col-3">Menu</a>
      <a href="{% url 'orders' %}" class="col-3">Orders</a>
      <a href="{% url 'logout' %}" class="col-3">Logout</a>
    </span>
    <div class="pic-card">
      <!-- <div class="box"> -->
        <div class="col-12" class="center">
          <h1>My Shopping Card:</h1>
          <h2>Pizza</h2>
          <ul>
            {% for pizza in pizzas %}
              {% if pizza.size == "small" and pizza.topping3.name != 'None' %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.get_priceSmallT3 }} eur/pc -- {{ pizza.get_priceSmallT3Subtotal }} eur
                    </a>
                  </li>

              {% elif pizza.size == "small" and pizza.topping2.name != 'None' %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.get_priceSmallT2 }} eur/pc -- {{ pizza.get_priceSmallT2Subtotal }} eur
                    </a>
                  </li>
              {% elif pizza.size == "small" and pizza.topping1.name != 'None' %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.get_priceSmallT1 }} eur/pc -- {{ pizza.get_priceSmallT1Subtotal }} eur
                    </a>
                  </li>
              {% elif pizza.size == "large" and pizza.topping3.name != 'None' %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.get_priceLargeT3 }} eur/pc -- {{ pizza.get_priceLargeT3Subtotal }} eur
                    </a>
                  </li>

              {% elif pizza.size == "large" and pizza.topping2.name != 'None' %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.get_priceLargeT2 }} eur/pc -- {{ pizza.get_priceLargeT2Subtotal }} eur
                    </a>
                  </li>
              {% elif pizza.size == "large" and pizza.topping1.name != 'None' %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.get_priceLargeT1 }} eur/pc -- {{ pizza.get_priceLargeT1Subtotal }} eur
                    </a>
                  </li>
              {% elif pizza.size == "large" and pizza.specialInstructions != '' %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.get_SIpriceLarge }} eur/pc -- {{ pizza.get_SIpriceLargeSubtotal }} eur
                    </a>
                  </li>
              {% elif pizza.size == "small" and pizza.specialInstructions != '' %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.get_SIpriceSmall }} eur/pc -- {{ pizza.get_SIpriceSmallSubtotal }} eur
                    </a>
                  </li>
              {% elif pizza.size == "small" %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.priceSmall }} eur/pc -- {{ pizza.get_priceSmallSubtotal }} eur
                    </a>
                  </li>
              {% elif pizza.size == "large" %}
                  <li>
                    <a href="{% url 'food' pizza.id %}">
                        {{ pizza }} -- {{ pizza.priceLarge }} eur/pc -- {{ pizza.get_priceLargeSubtotal }} eur
                    </a>
                  </li>
              {% endif %}
            {% endfor %}
          </ul>
          <h3>Subtotal: {{ pizzaSubtotal }} eur </h3>
          <h2>Toppings</h2>
          <ul>
            {% for topping in toppings %}
                <li>
                  <a href="{% url 'food' topping.id %}">
                    {{topping}} -- {{ topping.priceSmall }} eur/pc -- {{ topping.get_priceSmallSubtotal }} eur
                  </a>
                </li>
            {% endfor %}
          </ul>
          <h3>Subtotal: {{ toppingSubtotal }} eur</h3>
          <h2>Subs</h2>
          <ul>
            {% for sub in subs %}
              {% if sub.size == "small" %}
                <li>
                  <a href="{% url 'food' sub.id %}">
                    {{ sub }} -- {{ sub.priceSmall }} eur/pc -- {{ sub.get_priceSmallSubtotal }} eur
                  </a>
                </li>
              {% elif sub.size == "large" %}
                <li>
                  <a href="{% url 'food' sub.id %}">
                    {{ sub }} -- {{ sub.priceLarge }} eur/pc -- {{ sub.get_priceLargeSubtotal }} eur
                  </a>
                  </li>
              {% endif %}
            {% endfor %}
          </ul>
          <h3>Subtotal: {{ subSubtotal }} eur </h3>
          <h2>Pasta</h2>
          <ul>
            {% for pasta in pastas %}
                <li>
                  <a href="{% url 'food' pasta.id %}">
                    {{ pasta }} -- {{ pasta.priceSmall }} eur/pc -- {{ pasta.get_priceSmallSubtotal }} eur
                  </a>
                </li>
            {% endfor %}
          </ul>
          <h3>Subtotal: {{ pastaSubtotal }} eur </h3>
          <h2>Salads</h2>
          <ul>
            {% for salad in salads %}
                <li>
                  <a href="{% url 'food' salad.id %}">
                    {{ salad }} -- {{ salad.priceSmall }} eur/pc -- {{ salad.get_priceSmallSubtotal }} eur
                  </a>
                </li>
            {% endfor %}
          </ul>
          <h3>Subtotal: {{ saladSubtotal }} eur </h3>
          <h2>Dinner Platters</h2>
          <ul>
            {% for platter in platters %}
              {% if platter.size == "small" %}
                  <li>
                    <a href="{% url 'food' platter.id %}">
                      {{ platter }} -- {{ platter.priceSmall }} eur/pc -- {{ platter.get_priceSmallSubtotal }} eur
                    </a>
                  </li>
              {% elif platter.size == "large" %}
                  <li>
                    <a href="{% url 'food' platter.id %}">
                      {{ platter }} -- {{ platter.priceLarge }} eur/pc -- {{ platter.get_priceLargeSubtotal }} eur
                    </a>
                  </li>
              {% endif %}
            {% endfor %}
          </ul>
          <h3>Subtotal: {{ platterSubtotal }} eur </h3>
          <br>
          <h3>Total: {{ total }} eur </h3>
          <br>
          <h3> Total amount of your order is {{ total }} eur. Would you like to place an order? </h3>
          <br>

          {% if total != 0 %}
          <form action="{% url 'confirm' user.id %}" method="post">
              {% csrf_token %}
               <input type="submit" value="Place an order" />
          </form>
          {% endif %}
          <br><br>

        </div>
      <!-- </div> -->
    </div>
{% endblock %}
